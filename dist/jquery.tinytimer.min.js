/*
 *  jquery-tinytimer - v0.0.0
 *  simple timer plugin for jQuery
 *  https://github.com/narduz86/jquery-tinytimer.git
 *
 *  Made by narduz86
 *  Under MIT License
 */
!function(a){var b="jquery-tinytimer";a.fn.timer=function(c){function d(a){if(0!=g.history.length&&void 0===g.history[g.history.length-1].stop)throw"Wrong _startHistoryInterval";var b={start:a};return g.history.push(b),a}function e(a){if(0==g.history.length||void 0!==g.history[g.history.length-1].stop)throw"Wrong _endHistoryInterval";return g.history[g.history.length-1].stop=a,g.history[g.history.length-1].counter=i.counter,a-g.history[g.history.length-1].start}function f(){h=window.setInterval(function(){var a=i.counter;g.updateHtml.call(i),g.onTick.call(i),g.timerTarget>0&&i.counter>=g.timerTarget&&g._lastTickCounter<g.timerTarget&&g.onTargetReached.call(i),g._lastTickCounter=a},g.refreshInterval)}if(this.length>1)return this.first().timer();if(this.data(b))return this.data(b);this.data(b,this);var g=a.extend(!0,{},a.fn.timer.defaults,c);g._lastTickCounter=g._lastTickCounter||0;var h=0,i=this,j=this.html();if(Object.defineProperty(this,"counter",{set:function(a){var b=this.counter,c=a-b;g.timerCounter+=c,g.updateHtml.call(i)},get:function(){var a=0;return a=g._enabled?g.timerCounter+Date.now()-g.history[g.history.length-1].start:g.timerCounter}}),Object.defineProperty(this,"enabled",{get:function(){return g._enabled}}),Object.defineProperty(this,"history",{get:function(){return g.history}}),Object.defineProperty(this,"target",{set:function(a){g.timerTarget=a},get:function(){return g.timerTarget}}),Object.defineProperty(this,"settings",{get:function(){return c}}),this.start=function(){g._enabled||(g._enabled=!0,d(Date.now()),f())},this.stop=function(){if(g._enabled){var a=this.counter;e(Date.now()),g._enabled=!1,window.clearInterval(h),this.counter=a}},this.zero=function(){if(this.enabled){var a=Date.now();e(a),d(a)}this.counter=0},this.serialize=function(){return a.extend(!0,{},g)},this.destroy=function(){this.removeData(b),this.stop(),this.html(j)},g.updateHtml.call(i),g._enabled){if(0==g.history.length||void 0!==g.history[g.history.length-1].stop)throw"Wrong options given. _enabled parameter should not be used manually";f()}return this},a.fn.timer.defaults={timerCounter:0,timerTarget:0,refreshInterval:1e3,history:[],updateHtml:function(){var a=new Date("Thu Jan 01 1970 00:00:00"),b=new Date(this.counter+6e4*a.getTimezoneOffset());this.html(("0"+(24*(b.getDate()-1)+b.getHours())).substr(-2)+":"+("0"+b.getMinutes()).substr(-2)+":"+("0"+b.getSeconds()).substr(-2))},onTargetReached:function(){},onTick:function(){}}}(jQuery);